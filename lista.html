<!DOCTYPE html>
<html>
    <head>
        <title>Lista de Nomes</title>
    </head>
    <body>
        <input type="text" name="nome" id='valor'>
        <button onClick="adicionar()">Adicionar</button>
        <ul class='lista'>           
        </ul>
        <script>
            function adicionar(){
                valor = document.getElementById('valor');
                console.log(valor);
                var liElement =  document.createElement('li');
                nomes.push(valor.value);
                var texto = document.createTextNode(valor.value);
                liElement.appendChild(texto);
                var container = document.querySelector("ul.lista");
                container.appendChild(liElement);                
                valor.value = '';
                console.log(nomes);
                storage();

            } 
            var nomes = JSON.parse(localStorage.getItem('lista')) || [];
            

            for (var value of nomes){
                var liElement =  document.createElement('li');
                var texto = document.createTextNode(value);
                liElement.appendChild(texto);
                var container = document.querySelector("ul.lista");
                container.appendChild(liElement);               
            }
            function storage(){
                localStorage.setItem('lista', JSON.stringify(nomes));
            }
        </script>
    </body>
</html>